<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>plant practice</title>
    <style>
        h2 {
            margin-top: 50%;
        }

        .buttons {
            text-align: center;
            padding: 15px;
            margin: 20px;
        }
    </style>
</head>

<body>
    <h2 id="maintitle">plant practice</h2>
    <img alt="your image" id="output" height="200" width="300">

    <form>
        <input type="file" onchange="document.getElementById('output').src = window.URL.createObjectURL(this.files[0])">
        <button type="button">OK</button>
    </form>

    <section class="plantinfo">
        <p class="name">Common Name: </p> <br>
        <p class="genus">Genus: </p> <br>
        <p class="confidence">Confidence: </p> <br> <br>
        <a href="" class="moreinfo">more info</a>
    </section>

    <section class="home">
        <a href="index.html">home</a>
    </section>
    <!--script for sending image to the plant.id API-->
    <!-- <script type="text/javascript">
        document.querySelector('button').onclick = function sendIdentification() {
            const files = [...document.querySelector('input[type=file]').files];
            const promises = files.map((file) => {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        const res = event.target.result;
                        console.log(res);
                        resolve(res);
                    }
                    reader.readAsDataURL(file)
                })
            })

            Promise.all(promises).then((base64files) => {
                console.log(base64files)

                const data = {
                    api_key: "-- ask for one: https://forms.gle/yK1AY53YkYJjsc8X8 --",
                    images: base64files,
                    modifiers: ["crops_fast", "similar_images"],
                    plant_language: "en",
                    plant_details: ["common_names",
                        "url",
                        "name_authority",
                        "wiki_description",
                        "taxonomy",
                        "synonyms"]
                };

                fetch('https://api.plant.id/v2/identify', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Success:', data);
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
            })

        };

    </script> -->
</body>

</html>